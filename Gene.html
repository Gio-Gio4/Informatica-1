<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div>

    <p id="mioOut1"></p>
   
    <p id="mioArray"></p>
    <p id="media"></p>

    <p id="mioArray1"></p>
    </div>

    <script>
        const mioArrayCasuali=[];
        const ArrayRapporti=[];

            function generaNumeroCasuale()
            {   const casuale=Math.random();
                console.log(casuale);
                document.getElementById("mioOut1").innerHTML=casuale;
                mioArrayCasuali.push(casuale)
                document.getElementById("mioArray").innerHTML=mioArrayCasuali;

                //calcolo il rapporto solo quando c'e almeno un numero
                // precedente
                const len=mioArrayCasuali.length;
                if (len>1){
                    const n=mioArrayCasuali[len-1]/mioArrayCasuali[len-2]
                    ArrayRapporti.push(n)
                    document.getElementById("mioArray1").innerHTML=ArrayRapporti;

                }
                if (len %50 ===0)
                document.getElementById("media").innerHTML=    CalcolaMediaArrayCasuali();

            }
        setInterval(generaNumeroCasuale,500)

            function CalcolaMediaArrayCasuali(){
                let somma =0;
                let media=0;
                for(let i=0;i<mioArrayCasuali.length-1;i++)
                   {
                    somma=somma+mioArrayCasuali(i);
                   }
               
                media=somma/mioArrayCasuali.length;
                return media;

            }
    </script>
   
</body>
</html>
